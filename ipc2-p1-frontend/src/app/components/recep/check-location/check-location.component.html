<div class="container mt-2 col-md-12">
    <div class="card my-5">

        <div class="card text-center">
            <div class="card-header">
                <h3>Localizar Paquete</h3>
            </div>
        </div>
        <div class="card-body">
            <form [formGroup]="searchForm">
                <div class="mb-3">
                    <label name="buscarPor" class="form-label">Ingrese un No. Factura o Nit para realizar la búsqueda:</label>
                    <input type="text" (input)="search()" class="form-control" formControlName="searchByControl" placeholder="Ingrese un No. Factura o Nit">
                </div>
                <div class="errors-container"
                    *ngIf="searchByControl.invalid && (searchByControl.touched || searchByControl.dirty)">
                    <p class="error-msg" *ngIf="searchByControl.hasError('required')">
                        Para realizar una búsqueda, el campo debe ser válido
                    </p>
                </div>
            </form>
            <div class="row">
                <div class="col">
                    <div class="card my-4">
                        <div class="card-body">
                            <table class="table table-hover table-sm" cellspacing="0" width="100%">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>No. Factura</th>
                                        <th>Nit</th>
                                        <th>Cliente</th>
                                        <th>Ruta</th>
                                        <th>Destino</th>
                                        <!-- <th>Fecha Entrada</th> -->
                                        <th>No. PC</th>
                                        <th>Nombre PC</th>
                                        <th>Tiempo en Ruta</th>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let l of filteredLocations; let i = index">
                                        <td>{{i + 1}}</td>
                                        <td>{{getPackageById(l.packageId).invoiceNo}}</td>
                                        <td>{{getCustomerById(getPackageById(l.packageId).customerId).nit}}</td>
                                        <td>{{getCustomerById(getPackageById(l.packageId).customerId).name}}</td>
                                        <td>{{getRouteById(getControlPointById(l.controlPointId).routeId).name}}</td>
                                        <td>{{getDestinationById(getPackageById(l.packageId).destinationId).name}}</td>
                                        <!-- <td>{{getPackageById(l.packageId).entryDate}}</td> -->
                                        <td>{{getControlPointById(l.controlPointId).orderNo}}</td>
                                        <td>{{getControlPointById(l.controlPointId).name}}</td>
                                        <td>{{l.totalTime}}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
